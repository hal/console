<p>Infinispan은 Java 데이터 그리드 플랫폼입니다. 캐시된 데이터를 관리하기 위한 캐시 인터페이스를 제공합니다.
</p>
<p>아래의 Infinispan 캐시 컨테이너는 ${build.fullName}에서 사용됩니다:</p>
<ul>
    <li><code>web</code> for 웹 세션 클러스터링</li>
    <li><code>ejb</code> for Stateful Session Bean 클러스터링</li>
    <li><code>hibernate</code> for 엔티티 캐싱</li>
    <li><code>singleton</code> for 싱글톤 캐싱</li>
</ul>
<p>각 캐시 컨테이너는 "repl" 및 "dist" 캐시를 정의합니다. 이러한 캐시는 사용자 애플리케이션에서 직접 사용하면 안 됩니다.</p>

<p>Infinispan 기능 및 구성 옵션에 대한 자세한 내용은 다음을 참조하세요.
    <a href="http://infinispan.org/docs/5.3.x/index.html">Infinispan 문서</a>.</p>

<h2>클러스터링 모드</h2>
<p>Infinispan을 사용하여 ${build.shortName}에서 두 가지 방법으로 클러스터링을 구성할 수 있습니다. 귀하의 애플리케이션에 대한 올바른 메소드는 귀하의 요구 사항에 따라 달라집니다. 각 모드에는 가용성, 일관성, 안정성 및 확장성 사이의 트레이드오프 관계에 있습니다. 클러스터링 모드를 선택하기 전에 네트워크의 가장 중요한 기능이 무엇인지 파악하고 이러한 요구 사항의 균형을 맞춰야 합니다.</p>

<h3>복제(Replication) 모드</h3>
<p>복제 모드는 클러스터에서 새 인스턴스를 자동으로 감지하고 추가합니다. 이러한 인스턴스에 대한 변경 사항은 클러스터의 모든 노드에 복제됩니다. 복제 모드는 네트워크를 통해 복제해야 하는 정보의 양 때문에 일반적으로 소규모 클러스터에서 가장 잘 작동합니다. Infinispan은 UDP 멀티캐스트를 사용하도록 구성할 수 있으며, 이는 네트워크 트래픽 정체를 어느 정도 완화합니다.</p>

<h3>분산(Distribution) 모드</h3>
<p>분산 모드를 사용하면 Infinispan이 클러스터를 선형적으로 확장할 수 있습니다. 배포 모드에서는 일관된 해시 알고리즘을 사용하여 클러스터에서 새 노드를 배치해야 하는 위치를 결정합니다. 보관할 정보의 사본 수는 설정 가능합니다. 보관된 복사본 수, 데이터 내구성 및 성능 간에는 트레이드 오프가 있습니다. 보관되는 복사본이 많을수록 성능에 더 많은 영향을 주지만 서버 오류로 인해 데이터가 손실될 가능성은 줄어듭니다. 해시 알고리즘은 또한 멀티캐스팅이나 메타데이터 저장 없이 항목을 찾아 네트워크 트래픽을 줄이는 데에도 작동합니다.
</p>
<p>클러스터 크기가 6~8개 노드를 초과하는 경우 캐싱 전략으로 분산(dist) 모드를 사용하는 것을 고려해야 합니다. 분산 모드를 사용하면 데이터가 모든 노드(기본 복제 모드)가 아닌 클러스터 내 노드의 하위 집합에만 배포됩니다.
</p>

<h3>동기식 및 비동기식 복제</h3>
<p>복제는 동기 또는 비동기 모드로 수행할 수 있으며, 선택되는 모드는 요구 사항과 애플리케이션에 따라 다릅니다. 동기 복제를 사용하면 복제가 성공할 때까지 사용자 요청을 처리하는 스레드가 차단됩니다. 복제가 성공한 경우에만 응답이 클라이언트로 다시 전송되고 스레드가 해제됩니다. 동기식 복제는 클러스터의 각 노드에서 응답이 필요하기 때문에 네트워크 트래픽에 영향을 미칩니다. 그러나 클러스터의 모든 노드에 모든 수정 사항이 적용되었는지 확인할 수 있다는 장점이 있습니다.</p>
<p>비동기 복제는 백그라운드에서 수행됩니다. Infinispan은 복제를 수행하기 위해 백그라운드 스레드에서 사용되는 복제 대기열을 구현합니다. 복제는 시간 단위 또는 대기열 크기에 따라 트리거됩니다. 복제 대기열을 사용하면 클러스터 노드 간에 대화가 수행되지 않으므로 성능이 향상됩니다. 비동기식 복제의 단점은 그다지 정확하지 않다는 것입니다. 실패한 복제 시도는 실시간으로 통보되지 않고 로그에 기록됩니다.</p>

<h2>캐시 컨테이너</h2>
<p>캐시 컨테이너는 서브시스템에서 사용하는 캐시의 저장소입니다. Infinispan의 경우 기본 캐시 컨테이너는 구성 xml 파일에 정의되어 있습니다. 하나의 캐시는 클러스터링에 사용될 캐시인 기본 캐시로 정의됩니다.</p>
