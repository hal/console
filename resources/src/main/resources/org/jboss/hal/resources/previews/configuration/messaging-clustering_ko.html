<p>${build.shortName} 메시징 클러스터를 사용하면 메시지 처리 로드를 공유하기 위해 ${build.shortName} 메시징 서버 그룹을 함께 그룹화할 수 있습니다. 클러스터의 각 활성 노드는 자체 메시지를 관리하고 자체 연결을 처리하는 활성 ${build.shortName} 메시징 서버입니다.</p>

<p>클러스터는 ${build.shortName} 구성 파일에서 다른 노드에 대한 클러스터 연결을 선언하는 각 노드에 의해 형성됩니다. 노드가 다른 노드에 클러스터 연결을 형성하면 내부적으로 노드와 다른 노드 사이에 핵심 API 연결이 생성됩니다. 이는 뒤에서 투명하게 수행됩니다. 각 노드에 대해 명시적인 API를 선언할 필요는 없습니다. 이러한 클러스터 연결을 통해 클러스터의 노드 간에 메시지가 흐르고 로드 균형이 조정됩니다.</p>

<p>클러스터링에 대한 전체 문서를 보려면 다음을 참조하세요.
    <a target="_blank" href="https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/7.0/paged/configuring-messaging/chapter-28-clusters- 개요">클러스터 개요</a>.
</p>

<p>이 섹션에는 다음 주제에 대한 구성이 포함되어 있습니다:</p>
<ul>
    <li>브로드캐스트 그룹</li>
    <li>검색 그룹</li>
    <li>클러스터 연결</li>
    <li>그룹화 핸들러</li>
    <li>코어 브리지</li>
</ul>

<h2>브로드캐스트 그룹</h2>
<p>브로드캐스트 그룹은 서버가 네트워크를 통해 커넥터를 브로드캐스트하는 수단입니다. 커넥터는 클라이언트나 다른 서버가 서버에 연결할 수 있는 방법을 정의합니다.</p>

<p>브로드캐스트 그룹은 커넥터 세트를 가져와 네트워크에서 브로드캐스트합니다. 클러스터를 구성하는 브로드캐스트 기술에 따라 UDP 또는 JGroups를 사용하여 커넥터 쌍 정보를 브로드캐스트합니다.</p>

<p>브로드캐스트 그룹은 서버 구성의 message-activemq 서브시스템에 정의됩니다. ${build.shortName} 메시징 서버당 다수의 브로드캐스트 그룹이 있을 수 있습니다.</p>

<h2>검색 그룹</h2>
<p>브로드캐스트 그룹은 커넥터 정보가 서버에서 브로드캐스트되는 방식을 정의하는 반면 검색 그룹은 UDP 멀티캐스트 주소 또는 JGroup 채널과 같은 브로드캐스트 끝점에서 커넥터 정보가 수신되는 방식을 정의합니다.</p>

<p>검색 그룹은 서로 다른 서버에서 브로드캐스트하는 커넥터마다 하나씩 커넥터 목록을 유지 관리합니다. 특정 서버의 브로드캐스트 끝점에서 브로드캐스트를 받으면 해당 서버 목록의 항목을 업데이트합니다. 특정 서버로부터 오랫동안 방송을 받지 못한 경우 해당 서버의 항목이 목록에서 제거됩니다.</p>

<h2>클러스터 연결</h2>
<p>클러스터 연결은 서버를 클러스터로 그룹화하여 메시지가 클러스터 노드 간에 부하 분산될 수 있도록 합니다. 클러스터 연결은 다음을 사용하여 ${build.shortName} 서버 구성에서 정의됩니다.
    <code>클러스터 연결</code> 요소. ${build.shortName} 메시징 서버마다 정의된 클러스터 연결이 0개 이상 있을 수 있습니다.
</p>

<h2>그룹화 핸들러</h2>
<p>클러스터에서 특정 그룹 ID를 가진 메시지 그룹은 모든 노드에 도착할 수 있습니다. 노드가 어떤 그룹 ID가 어떤 노드의 어떤 소비자에 바인딩되어 있는지 결정하는 것이 중요합니다. 각 노드는 메시지 그룹이 기본적으로 도착하는 위치에 관계없이 해당 그룹 ID를 처리하는 소비자가 있는 노드로 메시지 그룹을 올바르게 라우팅하는 일을 담당합니다. 특정 그룹 ID를 가진 메시지가 클러스터의 특정 노드에 연결된 특정 소비자에게 전송되면 소비자의 연결이 끊어지더라도 해당 메시지는 다른 노드로 전송되지 않습니다.</p>

<p>이 상황은 그룹화 핸들러를 통해 해결됩니다. 각 노드에는 그룹화 핸들러가 있으며 이 그룹화 핸들러(다른 핸들러와 함께)는 메시지 그룹을 올바른 노드로 라우팅하는 역할을 합니다.</p>

<h2>코어 브리지</h2>
<p>API의 기능은 한 대상의 메시지를 소비하고 이를 일반적으로 다른 ${build.shortName} 메시징 서버에 있는 다른 대상으로 전달하는 것입니다.</p>

<p>소스 서버와 대상 서버가 동일한 클러스터에 있을 필요는 없으므로 브리징은 WAN이나 인터넷을 통해 연결이 불안정할 수 있는 경우와 같이 한 클러스터에서 다른 클러스터로 메시지를 안정적으로 보내는 데 적합합니다.</p >

<p>API에는 오류에 대한 복원력이 내장되어 있으므로 네트워크 오류 등으로 인해 대상 서버 연결이 끊어지면 API는 다시 온라인 상태가 될 때까지 대상 서버 연결을 다시 시도합니다. 다시 온라인 상태가 되면 정상적으로 작동이 재개됩니다.</p>

<p>브리지는 두 개의 개별 ${build.shortName} 메시징 서버를 함께 안정적으로 연결하는 방법입니다. 핵심 API를 사용하면 소스 서버와 대상 서버 모두 ${build.shortName} 메시징 서버여야 합니다.</p>
