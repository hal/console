{"mappings":"ACAA;;;;;;;;;;;;;;CAcC,EACD,KAAK,aAAa,CAAC,kBAEnB,KAAK,gBAAgB,CAAC,UAAW,SAAU,CAAC,EACxC,IAAI,EAAK,IAAI,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACpC,EAAG,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,EACrB,IAAI,CAAC,SAAU,CAAG,EACf,2BAA2B;AAC3B,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAG,EAAI,IAAI,CAC/B,EAAG,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,EACjB,IAAI,CAAC,SAAU,CAAQ,EACpB,KAAK,UAAY,EAAE,IAAI,CAAC,QAAQ,CAAG,EAAS,EAAE,CAClD,GACC,KAAK,CAAC,SAAU,CAAK,EAClB,EAAM,iBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAG,KAAO,EAC5E,EACR,GACC,KAAK,CAAC,WACH,mBAAmB;AACnB,EAAG,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,EACjB,IAAI,CAAC,SAAU,CAAQ,EACpB,KAAK,UAAY,EAAE,IAAI,CAAC,QAAQ,CAAG,EAAS,EAAE,CAClD,GACC,KAAK,CAAC,SAAU,CAAK,EAClB,EAAM,iBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAG,KAAO,EAC5E,EACR,EACR,EAAG,CAAA,GAEH,KAAK,IAAI,CAAG,SAAU,CAAO,EACzB,iCAAiC;AACjC,QAAQ,IAAI,CAAC,YAAc,mDAAqD,EACpF,EAEA,KAAK,KAAK,CAAG,SAAU,CAAO,EAC1B,iCAAiC;AACjC,QAAQ,KAAK,CAAC,YAAc,mDAAqD,EACrF,EAEA,KAAK,SAAS,CAAG,WACb,IAAI,EAAI,IAAI,KACZ,OAAO,EAAE,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAO,IAC9C,EAAE,UAAU,GAAG,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAO,IAC7C,EAAE,UAAU,GAAG,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAO,IAC7C,EAAE,eAAe,GAAG,QAAQ,GAAG,QAAQ,CAAC,EAAG,IACnD,C,6D","sources":["<anon>","src/web/script/worker.js"],"sourcesContent":["(function () {\nvar $2d072fbcc83fdf12$exports = {};\n/*\n *  Copyright 2022 Red Hat\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */ self.importScripts(\"pouchdb.min.js\");\nself.addEventListener(\"message\", function(e) {\n    let db = new PouchDB(e.data.database);\n    db.get(e.data.document._id).then(function(doc) {\n        // update existing document\n        e.data.document._rev = doc._rev;\n        db.put(e.data.document).then(function(response) {\n            info(\"Update \" + e.data.database + response.id);\n        }).catch(function(error) {\n            error(\"Unable to put \" + e.data.database + e.data.document._id + \": \" + error);\n        });\n    }).catch(function() {\n        // put new document\n        db.put(e.data.document).then(function(response) {\n            info(\"Insert \" + e.data.database + response.id);\n        }).catch(function(error) {\n            error(\"Unable to put \" + e.data.database + e.data.document._id + \": \" + error);\n        });\n    });\n}, false);\nself.info = function(message) {\n    // use the same log format as HAL\n    console.info(timestamp() + \" INFO  worker.js                                \" + message);\n};\nself.error = function(message) {\n    // use the same log format as HAL\n    console.error(timestamp() + \" ERROR worker.js                                \" + message);\n};\nself.timestamp = function() {\n    let d = new Date();\n    return d.getHours().toString().padStart(2, \"0\") + \":\" + d.getMinutes().toString().padStart(2, \"0\") + \":\" + d.getSeconds().toString().padStart(2, \"0\") + \".\" + d.getMilliseconds().toString().padStart(3, \"0\");\n};\n\n})();\n//# sourceMappingURL=worker.4b4ddf8a.js.map\n","/*\n *  Copyright 2022 Red Hat\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nself.importScripts(\"pouchdb.min.js\");\n\nself.addEventListener(\"message\", function (e) {\n    let db = new PouchDB(e.data.database);\n    db.get(e.data.document._id)\n        .then(function (doc) {\n            // update existing document\n            e.data.document._rev = doc._rev;\n            db.put(e.data.document)\n                .then(function (response) {\n                    info(\"Update \" + e.data.database + response.id);\n                })\n                .catch(function (error) {\n                    error(\"Unable to put \" + e.data.database + e.data.document._id + \": \" + error);\n                });\n        })\n        .catch(function () {\n            // put new document\n            db.put(e.data.document)\n                .then(function (response) {\n                    info(\"Insert \" + e.data.database + response.id);\n                })\n                .catch(function (error) {\n                    error(\"Unable to put \" + e.data.database + e.data.document._id + \": \" + error);\n                });\n        });\n}, false);\n\nself.info = function (message) {\n    // use the same log format as HAL\n    console.info(timestamp() + \" INFO  worker.js                                \" + message);\n};\n\nself.error = function (message) {\n    // use the same log format as HAL\n    console.error(timestamp() + \" ERROR worker.js                                \" + message);\n};\n\nself.timestamp = function () {\n    let d = new Date();\n    return d.getHours().toString().padStart(2, \"0\") + \":\" +\n        d.getMinutes().toString().padStart(2, \"0\") + \":\" +\n        d.getSeconds().toString().padStart(2, \"0\") + \".\" +\n        d.getMilliseconds().toString().padStart(3, \"0\");\n}\n"],"names":["self","importScripts","addEventListener","e","db","PouchDB","data","database","get","document","_id","then","doc","_rev","put","response","info","id","catch","error","message","console","timestamp","d","Date","getHours","toString","padStart","getMinutes","getSeconds","getMilliseconds"],"version":3,"file":"worker.4b4ddf8a.js.map"}