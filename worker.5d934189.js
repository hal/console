self.importScripts("pouchdb.min.js"),self.addEventListener("message",function(t){let a=new PouchDB(t.data.database);a.get(t.data.document._id).then(function(e){t.data.document._rev=e._rev,a.put(t.data.document).then(function(a){info("Update "+t.data.database+a.id)}).catch(function(a){a("Unable to put "+t.data.database+t.data.document._id+": "+a)})}).catch(function(){a.put(t.data.document).then(function(a){info("Insert "+t.data.database+a.id)}).catch(function(a){a("Unable to put "+t.data.database+t.data.document._id+": "+a)})})},!1),self.info=function(t){console.info(timestamp()+" INFO  worker.js                                "+t)},self.error=function(t){console.error(timestamp()+" ERROR worker.js                                "+t)},self.timestamp=function(){let t=new Date;return t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0")+"."+t.getMilliseconds().toString().padStart(3,"0")};
//# sourceMappingURL=worker.5d934189.js.map
